<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
		Remove this if you use the .htaccess -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<title>convert.test</title>
		<meta name="description" content="" />
		<meta name="author" content="Nuno Gomes" />
		<meta name="viewport" content="width=device-width; initial-scale=1.0" />
		<script src="../source/json-timesync.js"></script>
		<script src="sample.json"></script>
	</head>
	<body>
		<div>
			<header>
				<h1>set.test</h1>				
				<script>
					var jsonTS = new jsonTimesync({json:sampleJSON});
					tsData = jsonTS.data;
					// test update (value and timestamp)
					setTimeout(function(){run();}, 500);
					function run() {
						console.log(tsData.registrations[0].data.name.getTime());			
						console.log(tsData.registrations[0].data.name.get());
						console.log(tsData.registrations[0].data.name.set('Nuno Set Test'));
						console.log(tsData.registrations[0].data.name.get());
						console.log(tsData.registrations[1].services[1].name.getTime());
						console.log(tsData.registrations[1].services[1].name.get());
						console.log(tsData.registrations[1].services[1].name.set('Main Dinner'));
						console.log(tsData.registrations[1].services[1].name.get());
					}
					// test adding root number					
					tsData.set("number", 13);
					console.log(tsData);
					// test adding root string					
					tsData.set("string", "le string");
					console.log(tsData);
					// test adding root json
					var configs = {'lang':'pt'};
					tsData.set("configs", configs);
					console.log(tsData);
					// test adding root array
					var langs = ['en', 'pt', 'es', 'fr', 'de', 'jp'];
					tsData.set("langs", langs);
					console.log(tsData);
					// test adding number					
					tsData.configs.set("number", 13);
					console.log(tsData);
					// test adding string				
					tsData.configs.set("string", "le string");
					console.log(tsData);
					// test adding json
					var extras = {'mine':'bigger'};
					tsData.configs.set("extras", extras);
					console.log(tsData);
					// test adding array
					var planets = ['mars', 'earth', 'jupiter'];
					tsData.configs.set("planets", planets);
					console.log(tsData);
					// test adding TO array
					tsData.langs.set('it');
				</script>
			</header>
		</div>
	</body>
</html> 
